# Web 项目工程实践

## CI/CD

CI/CD 应该是必备工具。

## 代码风格、lint、review

人员水平各不相同，在这样一个团队中，要保持一致的代码风格其实是很困难的。一是 JS 太灵活，很难控制代码的风格；二是每个成员的喜好不同，就算启用了 lint 工具，但总有一些人连基本的插件也不安装。

除非强制在 CI 时进行 lint 控制，但这样的就需要在工期中留有更多处理代码问题的时间。

至于 review，对于新人 review 毫毛作用。新人对于代码质量没有概念。对于老人，输出 review 大概属于自己写一半个需求。另一点就是很多开发很“珍惜”自己的代码，不到最后也不会提交到 CI 中，然后就是坨代码，根本无法 review。

## ls-lint

代码风格不一致，那是代码文件内部的问题。连文件名也无法保持一致命名风格。新人属于那种抄也抄不明白的状态，连模仿也搞不定。

## 实用范式

### 组件库

组件库，例如 element-ui 之类，在项目早期会提升效率，可以快速交作业。但是选用的组件库如果风格与公司主流（UCD）风格不同时，组件库基本上属于除了基础的交互外，用途不大的东西。

在我项目，连 el-button 都需要处理过才能使用。所以非 UI 绑定的组件库可能有一定市场。

### 基于 Hook 的弹窗函数

弹窗是经常使用的组件。其实 drawer、dialog、messagebox 之类都可以是基于相同的底层实现。vue 推荐使用基于模板的弹窗实现。但在工作中，如果可以通过 openDialog() 这样的函数就可以打开一个窗口，
其实更实用。

### 表格

表格是经常使用的数据展示组件。表格尽量不要自己实现，表格的交互、计算很多不推荐自己整个轮子。但是应该基于组件库包装一个表格。可以考虑两种包装：

1. 轻量包装，只封装常用的参数，在项目中可以快速实现类似的表格
2. 基于上面的轻量包装，搞出一个声明式的表格，可以包含分页，通用操作之类的，尽可能可以直接用于实现业务页面

### 交互风格

项目首先要需要确定是基本交互风格。几个问题：

1. 页面之间如何切换？是 SPA 风格的层层切换，不是直接打开新窗口？
2. 某个资源的详情数据优先使用哪种形式展示？查看详情是切换页面？不是弹窗展示？弹窗的话直接使用大窗口，还是使用 drawer。使用弹窗，如果有二层的页签，如何处理？
3. 更新或创建数据时，如何处理？

## 后台

接口是 restful 的，200 总是表格操作一切正常，无业务出错。400 表示由于前端数据导致的问题，500 表示后台内部导致的问题。
